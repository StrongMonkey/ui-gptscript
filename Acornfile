args: {
  // Number of replicas
  replicas: 1

  // OpenAI API Endpoint
  api: "https://api.openai.com/v1"

  // Bearer token for OpenAI API
  apiKey: ""

  // Model
  apiModel: "gpt-4-1106-preview"
}

services: default: {
    default: true
    ports: ["80/http"]
    container: "ui"
}

containers: ui: {
  scale: args.replicas
  build: context: "."

  env: {
    NUXT_API: args.api
    NUXT_API_KEY: args.apiKey
    NUXT_MODEL: args.apiModel
  }

  ports: publish: "80/http"
  probes: "http://localhost/healthz"
}
